{"_id":"jstransform","_rev":"40-722ebdec7f38ac9fadbd5f4361416170","name":"jstransform","description":"A simple AST visitor-based JS transformer","dist-tags":{"latest":"5.0.0"},"versions":{"1.0.0":{"name":"jstransform","version":"1.0.0","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"1001.1001.1000-dev-harmony-fb","source-map":"0.1.8"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"_id":"jstransform@1.0.0","dist":{"shasum":"608eb777b60d77a208070675070d4a14831e21ea","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-1.0.0.tgz"},"_npmVersion":"1.1.59","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"}],"directories":{}},"1.0.1":{"name":"jstransform","version":"1.0.1","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"1001.1001.2000-dev-harmony-fb","source-map":"0.1.8"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"_id":"jstransform@1.0.1","dist":{"shasum":"b907358ce882db0619ab3b857f2bee702e1253ac","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-1.0.1.tgz"},"_npmVersion":"1.1.59","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"}],"directories":{}},"2.0.1":{"name":"jstransform","version":"2.0.1","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"2001.1001.0000-dev-harmony-fb","source-map":"0.1.8"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"_id":"jstransform@2.0.1","dist":{"shasum":"fefd688b82251ac6e2194444bfc09914e26fd8c4","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-2.0.1.tgz"},"_npmVersion":"1.1.59","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"}],"directories":{}},"2.0.2":{"name":"jstransform","version":"2.0.2","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"2001.1001.0000-dev-harmony-fb","source-map":"0.1.31"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"bugs":{"url":"https://github.com/facebook/jstransform/issues"},"_id":"jstransform@2.0.2","dist":{"shasum":"41d9482cd0b2373674d79c440cad773c0f69eaa0","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-2.0.2.tgz"},"_from":".","_npmVersion":"1.2.32","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"}],"directories":{}},"2.0.3":{"name":"jstransform","version":"2.0.3","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"2001.1001.0000-dev-harmony-fb","source-map":"0.1.31"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"_id":"jstransform@2.0.3","dist":{"shasum":"a926ea944817647553f8afe5e2bd29aaf09bb76b","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-2.0.3.tgz"},"_npmVersion":"1.1.59","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"}],"directories":{}},"3.0.0":{"name":"jstransform","version":"3.0.0","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"~3001.1.0-dev-harmony-fb","source-map":"0.1.31"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"bugs":{"url":"https://github.com/facebook/jstransform/issues"},"_id":"jstransform@3.0.0","dist":{"shasum":"a2591ab6cee8d97bf3be830dbfa2313b87cd640b","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-3.0.0.tgz"},"_from":".","_npmVersion":"1.2.32","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"},{"name":"zpao","email":"paul@oshannessy.com"}],"directories":{}},"4.0.0":{"name":"jstransform","version":"4.0.0","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"~3001.1.0-dev-harmony-fb","source-map":"0.1.8"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"bugs":{"url":"https://github.com/facebook/jstransform/issues"},"homepage":"https://github.com/facebook/jstransform","_id":"jstransform@4.0.0","_shasum":"a275bded013d6de788022ad0c67280b1b9679055","_from":".","_npmVersion":"1.4.7","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"},{"name":"zpao","email":"paul@oshannessy.com"}],"dist":{"shasum":"a275bded013d6de788022ad0c67280b1b9679055","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-4.0.0.tgz"},"directories":{}},"4.0.1":{"name":"jstransform","version":"4.0.1","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"~3001.1.0-dev-harmony-fb","source-map":"0.1.31"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"bugs":{"url":"https://github.com/facebook/jstransform/issues"},"homepage":"https://github.com/facebook/jstransform","_id":"jstransform@4.0.1","_shasum":"a7f8319d1f17c98ac7ccc3fb7a200b7b80b2a453","_from":".","_npmVersion":"1.4.7","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"},{"name":"zpao","email":"paul@oshannessy.com"}],"dist":{"shasum":"a7f8319d1f17c98ac7ccc3fb7a200b7b80b2a453","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-4.0.1.tgz"},"directories":{}},"5.0.0":{"name":"jstransform","version":"5.0.0","description":"A simple AST visitor-based JS transformer","contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"main":"src/jstransform","repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"keywords":["transformer","compiler","syntax","visitor"],"dependencies":{"base62":"0.1.1","esprima-fb":"~4001.1.0-dev-harmony-fb","source-map":"0.1.31"},"licenses":[{"type":"Apache-2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}],"engines":{"node":">=0.8.8"},"devDependencies":{"jest-cli":"0.1.5"},"jest":{"scriptPreprocessor":"<rootDir>/jestPreprocessor.js"},"scripts":{"prepublish":"jest","test":"jest"},"bugs":{"url":"https://github.com/facebook/jstransform/issues"},"homepage":"https://github.com/facebook/jstransform","_id":"jstransform@5.0.0","_shasum":"c515580dddeb825cf8be0cb3cfd63fcf394326a3","_from":".","_npmVersion":"1.4.7","_npmUser":{"name":"jeffmo","email":"jeff@anafx.com"},"maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"},{"name":"zpao","email":"paul@oshannessy.com"}],"dist":{"shasum":"c515580dddeb825cf8be0cb3cfd63fcf394326a3","tarball":"http://registry.npmjs.org/jstransform/-/jstransform-5.0.0.tgz"},"directories":{}}},"readme":"# JSTransform [![Build Status](https://travis-ci.org/facebook/jstransform.svg?branch=master)](https://travis-ci.org/facebook/jstransform)\n\nA simple utility for pluggable JS syntax transforms using the esprima parser.\n\n* Makes it simple to write and plug-in syntax transformations\n* Makes it simple to coalesce multiple syntax transformations in a single pass of the AST\n* Gives complete control over the formatting of the output on a per-transformation basis\n* Supports source map generation\n* Comes pre-bundled with a small set of (optional) ES6 -> ES5 transforms\n\n## Examples\nUsing a pre-bundled or existing transform:\n```js\n/**\n * Reads a source file that may (or may not) contain ES6 classes, transforms it\n * to ES5 compatible code using the pre-bundled ES6 class visitors, and prints \n * out the result.\n */\nvar es6ClassVisitors = require('jstransform/visitors/es6-class-visitors').visitorList;\nvar fs = require('fs');\nvar jstransform = require('jstransform');\n\nvar originalFileContents = fs.readFileSync('path/to/original/file.js', 'utf-8');\n\nvar transformedFileData = jstransform.transform(\n  es6ClassVisitors,\n  originalFileContents\n);\n\nconsole.log(transformedFileData.code);\n```\n\nUsing multiple pre-bundled or existing transforms at once:\n```js\n/**\n * Reads a source file that may (or may not) contain ES6 classes *or* arrow\n * functions, transforms them to ES5 compatible code using the pre-bundled ES6 \n * visitors, and prints out the result.\n */\nvar es6ArrowFuncVisitors = require('jstransform/visitors/es6-arrow-function-visitors').visitorList;\nvar es6ClassVisitors = require('jstransform/visitors/es6-class-visitors').visitorList;\nvar jstransform = require('jstransform');\n\n// Normally you'd read this from the filesystem, but I'll just use a string here\n// to simplify the example.\nvar originalFileContents = \"var a = (param1) => param1; class FooClass {}\";\n\nvar transformedFileData = jstransform.transform(\n  es6ClassVisitors.concat(es6ArrowFuncVisitors),\n  originalFileContents\n);\n\n// var a = function(param1)  {return param1;}; function FooClass(){\"use strict\";}\nconsole.log(transformedFileData.code);\n```\n\nWriting a simple custom transform:\n```js\n/**\n * Creates a custom transformation visitor that prefixes all calls to the\n * `eval()` function with a call to `alert()` saying how much of a clown you are\n * for using eval.\n */\nvar jstransform = require('jstransform');\nvar Syntax = require('esprima-fb').Syntax;\nvar utils = require('jstransform/src/utils');\n\nfunction visitEvalCallExpressions(traverse, node, path, state) {\n  // Appends an alert() call to the output buffer *before* the visited node\n  // (in this case the eval call) is appended to the output buffer\n  utils.append('alert(\"...eval?...really?...\");', state);\n\n  // Now we copy the eval expression to the output buffer from the original\n  // source\n  utils.catchup(node.range[1], state);\n}\nvisitEvalCallExpressions.test = function(node, path, state) {\n  return node.type === Syntax.CallExpression\n         && node.callee.type === Syntax.Identifier\n         && node.callee.name === 'eval';\n};\n\n// Normally you'd read this from the filesystem, but I'll just use a string here\n// to simplify the example.\nvar originalFileContents = \"eval('foo');\";\n\nvar transformedFileData = jstransform.transform(\n  [visitEvalCallExpressions], // Multiple visitors may be applied at once, so an\n                              // array is always expected for the first argument\n  originalFileContents\n);\n\n// alert(\"...eval?...really?...\");eval('foo');\nconsole.log(transformedFileData.code);\n```\n","maintainers":[{"name":"jeffmo","email":"jeff@anafx.com"},{"name":"zpao","email":"paul@oshannessy.com"}],"time":{"modified":"2014-05-23T02:06:30.666Z","created":"2013-08-19T21:17:41.333Z","1.0.0":"2013-10-16T01:49:30.128Z","1.0.1":"2013-10-16T01:50:34.691Z","2.0.1":"2013-11-08T20:00:01.948Z","2.0.2":"2014-01-07T00:23:44.730Z","2.0.3":"2014-01-24T01:38:35.321Z","3.0.3":"2014-02-15T20:30:27.528Z","3.0.0":"2014-02-15T20:31:49.353Z","4.0.0":"2014-04-23T04:42:05.170Z","4.0.1":"2014-04-26T22:31:17.323Z","5.0.0":"2014-05-23T02:06:30.666Z"},"repository":{"type":"git","url":"git@github.com:facebook/jstransform.git"},"readmeFilename":"README.md","homepage":"https://github.com/facebook/jstransform","keywords":["transformer","compiler","syntax","visitor"],"contributors":[{"name":"Jeff Morrison","email":"jeffmo@fb.com"}],"bugs":{"url":"https://github.com/facebook/jstransform/issues"},"_attachments":{},"_etag":"\"B2D5RPUHVUM8MGRT12L3C3SDJ\""}
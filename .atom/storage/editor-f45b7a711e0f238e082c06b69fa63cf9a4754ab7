{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":22,"width":1440,"height":874},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/zk/napplelabs/LightTable","buffers":[{"text":"# Check if lein is installed\nlein version >/dev/null 2>&1 || { echo >&2 \"Please install leiningen before running this script.\"; exit 1; }\nif [ \"$(echo `lein version` | grep 'Leiningen \\(1.\\|2.0\\)')\" ]; then \n\techo \"lein version must be 2.1 or above. Do a lein upgrade first\"; exit 1;\nfi\n\n\n#remove the previously built plugins, binary, and executable\nrm -rf deploy/plugins\nrm -rf deploy/LightTable.app\nrm deploy/light\n\n#get the LightTable.app binary\ncurl -O http://d35ac8ww5dfjyg.cloudfront.net/playground/bins/0.6.2/LightTableMac.zip\nunzip LightTableMac.zip\nmv LightTable/* deploy/\nrmdir LightTable/\nrm LightTableMac.zip\n\ncp -r platform/mac/* deploy/\n\n#build the core cljs of LightTable\nlein cljsbuild clean && lein cljsbuild once\n\n#Get the plugins from the binary\ncd deploy\nmv LightTable.app/Contents/Resources/app.nw/plugins plugins\ncd plugins\n\n#Make sure we have the latest clojure\nrm -rf clojure\ngit clone https://github.com/LightTable/Clojure.git clojure\ncd clojure\n./build.sh\n\n#Remove the app.nw so we use our local copy\ncd ../../\nrm -rf LightTable.app/Contents/Resources/app.nw\n","markers":{"markers":{"1":{"id":1,"range":[[23,0],[23,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":20,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zk/napplelabs/LightTable/osx_deps.sh","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"6acc48df23aa9c174ee62b49a7df2ded40e78e2a","deserializer":"TextBuffer"},{"text":"{\n\t\"name\": \"LightTable\",\n  \"main\": \"core/LightTable.html\",\n\t\"js-flags\": \"--harmony\",\n\t\"single-instance\": true,\n\t\"webkit\": {\n\t\t\"plugin\": true\n\t},\n\t\"chromium-args\" : \"--disable-threaded-compositing --enable-smooth-scrolling --disable-accelerated-video --enable-webgl --enable-webaudio --ignore-gpu-blacklist --force-compositing-mode --remote-debugging-port=10138 --harmony --enable-devtools-experiments --enable-experimental-web-platform-features --enable-experimental-webkit-features\",\n\t\"window\": {\n\t\t\"icon\": \"core/img/lticon.png\",\n\t\t\"width\": 1024,\n\t\t\"height\": 700,\n\t\t\"min_height\": 400,\n\t\t\"min_width\": 400,\n    \"position\": \"center\",\n\t\t\"show\":false,\n\t\t\"toolbar\": false,\n\t\t\"frame\": true\n\t}\n}\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":30},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zk/napplelabs/LightTable/deploy/package.json","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"376cb9ca427a9e6da1ed0513d8bfbef3e4a0edad","deserializer":"TextBuffer"},{"text":"#!/bin/bash\n\nif [ -z \"$LT_HOME\" ]\nthen\n\tmyDir=$( cd $(dirname $0) ; pwd -P )\n\tmyAppDir=\"$myDir/../Applications\"\n\tfor i in ~/Applications ~/Applications/LightTable $myDir $myDir/LightTable $myAppDir $myAppDir/LightTable /Applications /Applications/LightTable /Applications/Utilities /Applications/Utilities/LightTable; do\n\t\tif [ -x \"$i/LightTable.app\" ]; then\n\t\t\tAPP_DIR=\"$i\"\n\t\t\tbreak\n\t\tfi\n\tdone\nelse\n  APP_DIR=$LT_HOME\nfi\nif [ -z \"$APP_DIR\" ]\nthen\n\techo \"Sorry, cannot find LightTable.app.  Try setting the LT_HOME environment variable to the directory containing LightTable.app.\"\n\texit 1\nfi\n\nLTAPPCLI=$APP_DIR/LightTable.app/Contents/MacOS/node-webkit\nPWD=`pwd`\nARGS=\"$@\"\n\nCORRECTED=${ARGS//-/<d>}\nCORRECTED=${CORRECTED// /<s>}\n\nif [ $# != 0 ]; then\n    LTCLI=true $LTAPPCLI \"<d><d>dir=$PWD<s>$CORRECTED\" &\nelse\n    LTCLI=true $LTAPPCLI &\nfi\n\nopen -a LightTable\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":37},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zk/napplelabs/LightTable/deploy/light","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"92621d3a051fbd04bed8a816d9c5d7ab088c5eee","deserializer":"TextBuffer"},{"text":"<html>\n  <head>\n    <meta charset='utf-8'>\n    <title>\n      Light Table\n    </title>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"css/reset.css\"></link>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"css/codemirror.css\"></link>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"css/structure.css\"></link>\n    <style>\n      html, body { background: #3b3f41; color:#ccc; height:100vh; width:100vw;}\n      #loader { position:absolute; top:0; left:0; right:0; bottom:0; width:100vw; height:100vh; display:table; text-align:center; box-sizing:border-box; vertical-align:middle;}\n      #loader p { display:table-cell; vertical-align:middle; text-align:center; }\n    </style>\n  </head>\n  <body tabindex=\"-1\">\n    <div id=\"loader\">\n      <p>\n        <img src=\"img/lighttabletextdark.png\" width=\"40%\"/>\n      </p>\n    </div>\n    <div id=\"wrapper\" style=\"opacity:0;\">\n    </div>\n    <script src=\"node_modules/lighttable/util/keyevents.js\" type=\"text/javascript\"> </script>\n    <script src=\"node_modules/lighttable/util/throttle.js\" type=\"text/javascript\"> </script>\n    <script type=\"text/javascript\">\n      var win = require(\"nw.gui\").Window.get();\n      if(localStorage.width) {\n        win.resizeTo(parseInt(localStorage.width), parseInt(localStorage.height));\n        win.moveTo(parseInt(localStorage.x), parseInt(localStorage.y));\n      }\n      win.show();\n\n      //give it a little bit to paint before loading.\n      setTimeout(function() {\n       var script = document.createElement(\"script\");\n       script.type = \"text/javascript\";\n       script.async = false;\n       script.src= \"node_modules/lighttable/bootstrap.js\";\n       document.body.appendChild(script);\n       script.onload = function() {\n         try {\n           lt.objs.app.init();\n         } catch (e) {\n             console.error(e);\n             console.log(e.stack);\n         }\n       }\n      }, 40);\n    </script>\n  </body>\n</html>\n\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":48},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zk/napplelabs/LightTable/deploy/core/LightTable.html","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"05c3f99e603d1b568400fe00575e315515401f2c","deserializer":"TextBuffer"},{"text":"{\"version\":\"0.6.5\",\"setup\":\"0.3.0\",\"nw\":\"0.8.4\"}","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":52},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zk/napplelabs/LightTable/deploy/core/version.json","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"a7a600a79cdea390a3a1d07156dcc9d73d023dd2","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":20,"softTabs":false,"displayBuffer":{"id":21,"softWrap":false,"editorWidthInChars":153,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zk/napplelabs/LightTable/osx_deps.sh","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":30,"softTabs":false,"displayBuffer":{"id":31,"softWrap":false,"editorWidthInChars":153,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zk/napplelabs/LightTable/deploy/package.json","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":48,"softTabs":true,"displayBuffer":{"id":49,"softWrap":false,"editorWidthInChars":153,"scrollTop":297,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zk/napplelabs/LightTable/deploy/core/LightTable.html","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":52,"softTabs":true,"displayBuffer":{"id":53,"softWrap":false,"editorWidthInChars":153,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zk/napplelabs/LightTable/deploy/core/version.json","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":37,"softTabs":false,"displayBuffer":{"id":38,"softWrap":false,"editorWidthInChars":153,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zk/napplelabs/LightTable/deploy/light","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/zk/napplelabs/LightTable/osx_deps.sh","focused":false,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/zk/napplelabs/LightTable/osx_deps.sh":1399486944794,"/Users/zk/napplelabs/LightTable/deploy/package.json":1399486942890,"/Users/zk/napplelabs/LightTable/deploy/core/LightTable.html":1399486919257,"/Users/zk/napplelabs/LightTable/deploy/core/version.json":1399486917208,"/Users/zk/napplelabs/LightTable/deploy/light":1399486725581},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":50068229},"tree-view":{"directoryExpansionStates":{"deploy":{"core":{},"settings":{"default":{}}},"src":{}},"selectedPath":"/Users/zk/napplelabs/LightTable/osx_deps.sh","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}
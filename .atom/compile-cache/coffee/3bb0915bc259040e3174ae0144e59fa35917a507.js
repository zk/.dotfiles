(function() {
  var Repo, RepoView;

  RepoView = require('./views/repo-view');

  Repo = require('./models/repo');

  module.exports = {
    configDefaults: {
      pre_commit_hook: ""
    },
    atomatigitView: null,
    activate: function(state) {
      this.repo = new Repo;
      this.repo_view = new RepoView(this.repo);
      return this.insert_commands();
    },
    insert_commands: function() {
      atom.workspaceView.command("atomatigit:show", (function(_this) {
        return function() {
          return _this.focus();
        };
      })(this));
      return atom.workspaceView.command("atomatigit:close", (function(_this) {
        return function() {
          return _this.close();
        };
      })(this));
    },
    close: function() {
      if (this.repo_view.hasParent()) {
        return this.repo_view.detach();
      }
    },
    focus: function() {
      if (!this.repo_view.hasParent()) {
        atom.workspaceView.appendToRight(this.repo_view);
      }
      this.repo.reload();
      return this.repo_view.focus();
    },
    deactivate: function() {
      this.repo_view.destroy();
      return this.repo.destroy();
    },
    serialize: function() {}
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxNQUFBLGNBQUE7O0FBQUEsRUFBQSxRQUFBLEdBQVcsT0FBQSxDQUFRLG1CQUFSLENBQVgsQ0FBQTs7QUFBQSxFQUNBLElBQUEsR0FBTyxPQUFBLENBQVEsZUFBUixDQURQLENBQUE7O0FBQUEsRUFHQSxNQUFNLENBQUMsT0FBUCxHQUNFO0FBQUEsSUFBQSxjQUFBLEVBQ0U7QUFBQSxNQUFBLGVBQUEsRUFBaUIsRUFBakI7S0FERjtBQUFBLElBR0EsY0FBQSxFQUFnQixJQUhoQjtBQUFBLElBS0EsUUFBQSxFQUFVLFNBQUMsS0FBRCxHQUFBO0FBQ1IsTUFBQSxJQUFDLENBQUEsSUFBRCxHQUFRLEdBQUEsQ0FBQSxJQUFSLENBQUE7QUFBQSxNQUNBLElBQUMsQ0FBQSxTQUFELEdBQWlCLElBQUEsUUFBQSxDQUFTLElBQUMsQ0FBQSxJQUFWLENBRGpCLENBQUE7YUFHQSxJQUFDLENBQUEsZUFBRCxDQUFBLEVBSlE7SUFBQSxDQUxWO0FBQUEsSUFXQSxlQUFBLEVBQWlCLFNBQUEsR0FBQTtBQUNmLE1BQUEsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFuQixDQUEyQixpQkFBM0IsRUFBOEMsQ0FBQSxTQUFBLEtBQUEsR0FBQTtlQUFBLFNBQUEsR0FBQTtpQkFBRyxLQUFDLENBQUEsS0FBRCxDQUFBLEVBQUg7UUFBQSxFQUFBO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUE5QyxDQUFBLENBQUE7YUFDQSxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQW5CLENBQTJCLGtCQUEzQixFQUErQyxDQUFBLFNBQUEsS0FBQSxHQUFBO2VBQUEsU0FBQSxHQUFBO2lCQUFHLEtBQUMsQ0FBQSxLQUFELENBQUEsRUFBSDtRQUFBLEVBQUE7TUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQS9DLEVBRmU7SUFBQSxDQVhqQjtBQUFBLElBZUEsS0FBQSxFQUFPLFNBQUEsR0FBQTtBQUNMLE1BQUEsSUFBRyxJQUFDLENBQUEsU0FBUyxDQUFDLFNBQVgsQ0FBQSxDQUFIO2VBQ0UsSUFBQyxDQUFBLFNBQVMsQ0FBQyxNQUFYLENBQUEsRUFERjtPQURLO0lBQUEsQ0FmUDtBQUFBLElBbUJBLEtBQUEsRUFBTyxTQUFBLEdBQUE7QUFDTCxNQUFBLElBQUcsQ0FBQSxJQUFFLENBQUEsU0FBUyxDQUFDLFNBQVgsQ0FBQSxDQUFKO0FBQ0UsUUFBQSxJQUFJLENBQUMsYUFBYSxDQUFDLGFBQW5CLENBQWlDLElBQUMsQ0FBQSxTQUFsQyxDQUFBLENBREY7T0FBQTtBQUFBLE1BRUEsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFOLENBQUEsQ0FGQSxDQUFBO2FBR0EsSUFBQyxDQUFBLFNBQVMsQ0FBQyxLQUFYLENBQUEsRUFKSztJQUFBLENBbkJQO0FBQUEsSUF5QkEsVUFBQSxFQUFZLFNBQUEsR0FBQTtBQUNWLE1BQUEsSUFBQyxDQUFBLFNBQVMsQ0FBQyxPQUFYLENBQUEsQ0FBQSxDQUFBO2FBQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxPQUFOLENBQUEsRUFGVTtJQUFBLENBekJaO0FBQUEsSUE2QkEsU0FBQSxFQUFXLFNBQUEsR0FBQSxDQTdCWDtHQUpGLENBQUE7QUFBQSIKfQ==
//# sourceURL=/Users/zk/.dotfiles/.atom/packages/atomatigit/lib/atomatigit.coffee